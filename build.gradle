/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/8.0.2/samples
 */

plugins {
    id 'com.ibm.cics.bundle' version '1.0.3'
    id 'war'
}

group 'org.example.cics'
version '1.0.0'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

cicsBundle {
    build {
        defaultJVMServer = project.cicsJVM
    }
    // deploy {
        // cicsplex = 'MYPLEX'
        // region   = 'MYREGION'
        // bunddef  = 'MYBUN'
        // csdgroup = 'MYGROUP'
        // url      = 'myserver.site.domain.com:1234'
        // username = project.cicsUser    // Define cicsUser in gradle.properties file
        // password = project.cicsPass   // Define cicsPass in gradle.properties file
        // Caution: uncomment the line below to disable TLS/SSL checking for certificates
        //insecure = true
    // }
}

dependencies {
    // What do we want? CICS! When do we want it? Now!
    annotationProcessor enforcedPlatform('com.ibm.cics:com.ibm.cics.ts.bom:6.1-20220617120000')
    annotationProcessor 'com.ibm.cics:com.ibm.cics.server.invocation'

    compileOnly enforcedPlatform('com.ibm.cics:com.ibm.cics.ts.bom:6.1-20220617120000')
    // compileOnly 'com.ibm.cics:com.ibm.cics.server'
    compileOnly 'com.ibm.cics:com.ibm.cics.server.invocation' // TODO shouldn't need this?

    // Produces the CICS bundle part archive (not an OSGi bundle!)
    cicsBundlePart files(war)
}
